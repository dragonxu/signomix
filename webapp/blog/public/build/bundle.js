var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function a(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function r(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function i(t){t.parentNode.removeChild(t)}function s(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function u(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function g(){return d(" ")}function f(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function p(t,n){n=""+n,t.data!==n&&(t.data=n)}function h(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}let $;function x(t){$=t}function v(){if(!$)throw new Error("Function called outside component initialization");return $}function b(t){v().$$.on_mount.push(t)}function y(){const t=v();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const a=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,a)})}}}const w=[],M=[],P=[],L=[],A=Promise.resolve();let I=!1;function k(t){P.push(t)}let H=!1;const _=new Set;function D(){if(!H){H=!0;do{for(let t=0;t<w.length;t+=1){const n=w[t];x(n),T(n.$$)}for(w.length=0;M.length;)M.pop()();for(let t=0;t<P.length;t+=1){const n=P[t];_.has(n)||(_.add(n),n())}P.length=0}while(w.length);for(;L.length;)L.pop()();I=!1,H=!1,_.clear()}}function T(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(k)}}const C=new Set;let E;function N(t,n){t&&t.i&&(C.delete(t),t.i(n))}function O(t,n,e,o){if(t&&t.o){if(C.has(t))return;C.add(t),E.c.push(()=>{C.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function S(t){t&&t.c()}function J(t,e,l){const{fragment:r,on_mount:c,on_destroy:i,after_update:s}=t.$$;r&&r.m(e,l),k(()=>{const e=c.map(n).filter(a);i?i.push(...e):o(e),t.$$.on_mount=[]}),s.forEach(k)}function j(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function B(t,n){-1===t.$$.dirty[0]&&(w.push(t),I||(I=!0,A.then(D)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function W(n,a,l,r,c,i,s=[-1]){const u=$;x(n);const d=a.props||{},g=n.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:e(),dirty:s};let f=!1;g.ctx=l?l(n,d,(t,e,...o)=>{const a=o.length?o[0]:e;return g.ctx&&c(g.ctx[t],g.ctx[t]=a)&&(g.bound[t]&&g.bound[t](a),f&&B(n,t)),e}):[],g.update(),f=!0,o(g.before_update),g.fragment=!!r&&r(g.ctx),a.target&&(a.hydrate?g.fragment&&g.fragment.l(function(t){return Array.from(t.childNodes)}(a.target)):g.fragment&&g.fragment.c(),a.intro&&N(n.$$.fragment),J(n,a.target,a.anchor),D()),x(u)}class q{$destroy(){j(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function z(t,n,e){const o=t.slice();return o[9]=n[e],o}function F(t){let n,e,o,a,l,s=t[9].label[t[1]]+"";return{c(){n=u("a"),e=d(s),m(n,"class","p-2 text-dark"),m(n,"href",o=t[9].url),m(n,"target",a=t[9].target)},m(o,a){c(o,n,a),r(n,e),l=f(n,"click",t[3])},p(t,l){3&l&&s!==(s=t[9].label[t[1]]+"")&&p(e,s),1&l&&o!==(o=t[9].url)&&m(n,"href",o),1&l&&a!==(a=t[9].target)&&m(n,"target",a)},d(t){t&&i(n),l()}}}function G(n){let e,o;return{c(){e=u("a"),e.innerHTML='<span class="flag-icon flag-icon-gb border border-secondary rounded"></span>',m(e,"class","p-2 text-dark"),m(e,"href","#!en")},m(t,a){c(t,e,a),o=f(e,"click",n[5])},p:t,d(t){t&&i(e),o()}}}function K(n){let e,o;return{c(){e=u("a"),e.innerHTML='<span class="flag-icon flag-icon-pl border border-secondary rounded"></span>',m(e,"class","p-2 text-dark"),m(e,"href","#!pl")},m(t,a){c(t,e,a),o=f(e,"click",n[4])},p:t,d(t){t&&i(e),o()}}}function Q(n){let e,o,a,l,f,h,$,x,v,b=n[2].navigation.signin+"",y=n[0],w=[];for(let t=0;t<y.length;t+=1)w[t]=F(z(n,y,t));let M="en"!=n[1]&&G(n),P="pl"!=n[1]&&K(n);return{c(){e=u("div"),o=u("h5"),o.innerHTML='<img class="mb-2" src="/resources/logo.png" alt="" height="40"> ',a=g(),l=u("nav");for(let t=0;t<w.length;t+=1)w[t].c();f=g(),M&&M.c(),h=g(),P&&P.c(),$=g(),x=u("a"),v=d(b),m(o,"class","my-0 mr-md-auto font-weight-normal"),m(l,"class","my-2 my-md-0 mr-md-3"),m(x,"class","btn btn-outline-primary"),m(x,"href","/app/#!login"),m(e,"class","d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom box-shadow")},m(t,n){c(t,e,n),r(e,o),r(e,a),r(e,l);for(let t=0;t<w.length;t+=1)w[t].m(l,null);r(l,f),M&&M.m(l,null),r(l,h),P&&P.m(l,null),r(e,$),r(e,x),r(x,v)},p(t,[n]){if(11&n){let e;for(y=t[0],e=0;e<y.length;e+=1){const o=z(t,y,e);w[e]?w[e].p(o,n):(w[e]=F(o),w[e].c(),w[e].m(l,f))}for(;e<w.length;e+=1)w[e].d(1);w.length=y.length}"en"!=t[1]?M?M.p(t,n):(M=G(t),M.c(),M.m(l,h)):M&&(M.d(1),M=null),"pl"!=t[1]?P?P.p(t,n):(P=K(t),P.c(),P.m(l,null)):P&&(P.d(1),P=null),4&n&&b!==(b=t[2].navigation.signin+"")&&p(v,b)},i:t,o:t,d(t){t&&i(e),s(w,t),M&&M.d(),P&&P.d()}}}function R(t){}function U(t,n,e){const o=y();let{navlist:a=[{url:"/",label:{en:"Home",pl:"Home"},target:""}]}=n,{language:l}=n,{texts:r}=n;function c(t,n){404!==t&&e(0,a=JSON.parse(n))}return b(async()=>{getData("navigation.json",null,c)}),t.$set=t=>{"navlist"in t&&e(0,a=t.navlist),"language"in t&&e(1,l=t.language),"texts"in t&&e(2,r=t.texts)},[a,l,r,function(){o("setLocation",{text:event.target.href})},function(){o("setLanguage",{text:"pl"})},function(){o("setLanguage",{text:"en"})},R]}class V extends q{constructor(t){super(),W(this,t,U,Q,l,{navlist:0,language:1,texts:2,languageChanged:6})}get languageChanged(){return R}}function X(t){let n,e,o;return{c(){n=u("a"),e=u("i"),m(e,"data-feather","link"),m(n,"href",o="?doc="+t[1]+"&language="+t[0]),h(n,"text-decoration","none"),h(n,"color","black")},m(t,o){c(t,n,o),r(n,e)},p(t,e){3&e&&o!==(o="?doc="+t[1]+"&language="+t[0])&&m(n,"href",o)},d(t){t&&i(n)}}}function Y(n){let e,o,a,l,s,h,$,x,v,b,y,w,M,P,L=n[2].title+"",A=n[2].content+"",I="404"!==n[2].title&&X(n);return{c(){e=u("div"),o=u("div"),a=u("div"),l=u("article"),s=u("header"),h=u("h1"),$=d(L),x=g(),I&&I.c(),v=g(),b=u("section"),y=g(),w=u("p"),M=u("a"),M.textContent="« Back",m(M,"class","btn btn-outline-primary btn-sm"),m(M,"role","button"),m(l,"class","main"),m(a,"class","col"),m(o,"class","row"),m(e,"class","container text-left")},m(t,i){c(t,e,i),r(e,o),r(o,a),r(a,l),r(l,s),r(s,h),r(h,$),r(h,x),I&&I.m(h,null),r(l,v),r(l,b),b.innerHTML=A,r(l,y),r(l,w),r(w,M),P=f(M,"click",n[3])},p(t,[n]){4&n&&L!==(L=t[2].title+"")&&p($,L),"404"!==t[2].title?I?I.p(t,n):(I=X(t),I.c(),I.m(h,null)):I&&(I.d(1),I=null),4&n&&A!==(A=t[2].content+"")&&(b.innerHTML=A)},i:t,o:t,d(t){t&&i(e),I&&I.d(),P()}}}function Z(t,n,e){const o=y();let{language:a}=n,{texts:l}=n,{devmode:r}=n,{uid:c}=n,{csAPI:i}=n,s={};function u(t,n){if(404===t)return e(2,s.title="404",s),void e(2,s.content="<p>"+c+" not found</p>",s);var o=JSON.parse(n);e(2,s=decodeDocument(o))}return b(async()=>{getData(i+c+"?language="+a,null,u),feather.replace()}),t.$set=t=>{"language"in t&&e(0,a=t.language),"texts"in t&&e(4,l=t.texts),"devmode"in t&&e(5,r=t.devmode),"uid"in t&&e(1,c=t.uid),"csAPI"in t&&e(6,i=t.csAPI)},[a,c,s,function(){o("goBack",{text:event.target.href})},l,r,i,function(t){e(0,a=t),getData(i+c+"?language="+a,null,u)}]}class tt extends q{constructor(t){super(),W(this,t,Z,Y,l,{language:0,texts:4,devmode:5,uid:1,csAPI:6,languageChanged:7})}get languageChanged(){return this.$$.ctx[7]}}function nt(n){let e,o,a,l,s,d,f,p=n[0].content+"";return{c(){e=u("footer"),o=u("footer"),a=u("div"),l=u("article"),s=u("header"),s.innerHTML="<h1></h1><p></p>",d=g(),f=u("section"),m(a,"class","container"),m(o,"class","footer border-top bg-white text-signo text-right mt-4")},m(t,n){c(t,e,n),r(e,o),r(o,a),r(a,l),r(l,s),r(l,d),r(l,f),f.innerHTML=p},p(t,[n]){1&n&&p!==(p=t[0].content+"")&&(f.innerHTML=p)},i:t,o:t,d(t){t&&i(e)}}}function et(t,n,e){let{language:o}=n,{texts:a}=n,{devmode:l}=n,{csAPI:r}=n,c={title:"",summary:"",content:""};function i(t,n){404!==t?e(0,c=decodeDocument(JSON.parse(n))):e(0,c.content="<p><i>/landingpage/footer.html</i> not found</p>",c)}return b(()=>{getData(r+"/landingpage/footer.html?language="+o,null,i)}),t.$set=t=>{"language"in t&&e(1,o=t.language),"texts"in t&&e(2,a=t.texts),"devmode"in t&&e(3,l=t.devmode),"csAPI"in t&&e(4,r=t.csAPI)},[c,o,a,l,r,function(t){e(1,o=t),getData(r+"/landingpage/footer.html?language="+o,null,i)}]}class ot extends q{constructor(t){super(),W(this,t,et,nt,l,{language:1,texts:2,devmode:3,csAPI:4,languageChanged:5})}get languageChanged(){return this.$$.ctx[5]}}function at(t,n,e){const o=t.slice();return o[21]=n[e],o}function lt(n){let e,o,a,l,d,f,p,h,$,x=n[8].title+"",v=n[8].summary+"",b=n[9],y=[];for(let t=0;t<b.length;t+=1)y[t]=ct(at(n,b,t));return{c(){e=u("div"),o=u("div"),a=u("div"),l=u("article"),d=u("header"),f=u("h1"),p=g(),h=u("div"),$=g();for(let t=0;t<y.length;t+=1)y[t].c();m(l,"class","folder"),m(a,"class","col-md-12"),m(o,"class","row"),m(e,"class","container top-spacing")},m(t,n){c(t,e,n),r(e,o),r(o,a),r(a,l),r(l,d),r(d,f),f.innerHTML=x,r(d,p),r(d,h),h.innerHTML=v,r(e,$);for(let t=0;t<y.length;t+=1)y[t].m(e,null)},p(t,n){if(256&n&&x!==(x=t[8].title+"")&&(f.innerHTML=x),256&n&&v!==(v=t[8].summary+"")&&(h.innerHTML=v),4609&n){let o;for(b=t[9],o=0;o<b.length;o+=1){const a=at(t,b,o);y[o]?y[o].p(a,n):(y[o]=ct(a),y[o].c(),y[o].m(e,null))}for(;o<y.length;o+=1)y[o].d(1);y.length=b.length}},i:t,o:t,d(t){t&&i(e),s(y,t)}}}function rt(t){let n,e={language:t[1],texts:t[0],devmode:t[3],csAPI:t[4],uid:t[2]};const o=new tt({props:e});return t[19](o),o.$on("goBack",t[10]),{c(){S(o.$$.fragment)},m(t,e){J(o,t,e),n=!0},p(t,n){const e={};2&n&&(e.language=t[1]),1&n&&(e.texts=t[0]),8&n&&(e.devmode=t[3]),16&n&&(e.csAPI=t[4]),4&n&&(e.uid=t[2]),o.$set(e)},i(t){n||(N(o.$$.fragment,t),n=!0)},o(t){O(o.$$.fragment,t),n=!1},d(n){t[19](null),j(o,n)}}}function ct(t){let n,e,o,a,l,s,h,$,x,v,b,y,w,M,P,L,A=t[21].title+"",I=t[21].summary+"",k=t[0].list.details+"";return{c(){n=u("div"),e=u("div"),o=u("article"),a=u("header"),l=u("h1"),s=d(A),h=g(),$=u("div"),x=g(),v=u("p"),b=u("a"),y=d(k),w=d(" »"),P=g(),m(b,"href",M=t[21].uid),m(o,"class","list"),m(e,"class","col-md-12"),m(n,"class","row")},m(i,u){c(i,n,u),r(n,e),r(e,o),r(o,a),r(a,l),r(l,s),r(a,h),r(a,$),$.innerHTML=I,r(o,x),r(o,v),r(v,b),r(b,y),r(b,w),r(n,P),L=f(b,"click",t[12])},p(t,n){512&n&&A!==(A=t[21].title+"")&&p(s,A),512&n&&I!==(I=t[21].summary+"")&&($.innerHTML=I),1&n&&k!==(k=t[0].list.details+"")&&p(y,k),512&n&&M!==(M=t[21].uid)&&m(b,"href",M)},d(t){t&&i(n),L()}}}function it(t){let n,e,a,l,s,d,f={language:t[1],texts:t[0]};const m=new V({props:f});t[18](m),m.$on("setLanguage",t[11]),m.$on("setLocation",st);const p=[rt,lt],h=[];function $(t,n){return""!==t[2]?0:1}a=$(t),l=h[a]=p[a](t);let x={csAPI:t[4],language:t[1],texts:t[0]};const v=new ot({props:x});return t[20](v),v.$on("setLanguage",t[11]),{c(){n=u("main"),S(m.$$.fragment),e=g(),l.c(),s=g(),S(v.$$.fragment)},m(t,o){c(t,n,o),J(m,n,null),r(n,e),h[a].m(n,null),r(n,s),J(v,n,null),d=!0},p(t,[e]){const r={};2&e&&(r.language=t[1]),1&e&&(r.texts=t[0]),m.$set(r);let c=a;a=$(t),a===c?h[a].p(t,e):(E={r:0,c:[],p:E},O(h[c],1,1,()=>{h[c]=null}),E.r||o(E.c),E=E.p,l=h[a],l||(l=h[a]=p[a](t),l.c()),N(l,1),l.m(n,s));const i={};16&e&&(i.csAPI=t[4]),2&e&&(i.language=t[1]),1&e&&(i.texts=t[0]),v.$set(i)},i(t){d||(N(m.$$.fragment,t),N(l),N(v.$$.fragment,t),d=!0)},o(t){O(m.$$.fragment,t),O(l),O(v.$$.fragment,t),d=!1},d(e){e&&i(n),t[18](null),j(m),h[a].d(),t[20](null),j(v)}}}function st(t){console.log(t),location=t.detail.text,alert(location),console.log(location)}function ut(t,n,e){let o,a,l,{texts:r}=n,{language:c}=n,{csAPI:i}=n,{docuid:s}=n,{devModePort:u}=n,{devMode:d=!1}=n,g={title:"",summary:"",content:""},f=[];function m(t,n){404!==t&&(e(0,r=JSON.parse(n)),document.title=r.title)}function p(t,n){if(404===t)return e(8,g.summary="/posts not found",g),void h();var o=JSON.parse(n);e(8,g=decodeDocument(o)),h()}function h(){getData(i+"?path=/posts/&language="+c,null,$)}function $(t,n){if(404===t)return void e(9,f=[{uid:"/posts/a",title:"title1"}]);let o=JSON.parse(n);e(9,f=o.reverse());for(var a=0;a<f.length;a++)e(9,f[a]=decodeDocument(f[a]),f)}return b(async()=>{if(console.log(window.location.search),window.location.search.startsWith("?doc=")){var t=window.location.search.lastIndexOf("&");let n=window.location.search.substring(t+10);n.endsWith("/")&&(n=n.slice(0,-1)),2===n.length&&e(1,c=n),e(2,s=window.location.search.substring(5,t))}else e(2,s="");e(3,d=window.origin.endsWith(":"+u)),getData("texts_"+c+".json",null,m),getData(i+"/posts?language="+c,null,p)}),t.$set=t=>{"texts"in t&&e(0,r=t.texts),"language"in t&&e(1,c=t.language),"csAPI"in t&&e(4,i=t.csAPI),"docuid"in t&&e(2,s=t.docuid),"devModePort"in t&&e(13,u=t.devModePort),"devMode"in t&&e(3,d=t.devMode)},[r,c,s,d,i,o,a,l,g,f,function(t){window.location.search.startsWith("?doc=")?window.location.search="":e(2,s="")},function(t){if("pl"===t.detail.text)e(1,c="pl");else{if("en"!==t.detail.text)return;e(1,c="en")}void 0!==typeof a&&a.languageChanged(c),getData("texts_"+c+".json",null,m),getData(i+"/posts?language="+c,null,p)},function(t){t.preventDefault(),e(2,s=t.target.pathname)},u,m,p,h,$,function(t){M[t?"unshift":"push"](()=>{e(5,o=t)})},function(t){M[t?"unshift":"push"](()=>{e(6,a=t)})},function(t){M[t?"unshift":"push"](()=>{e(7,l=t)})}]}return new class extends q{constructor(t){super(),W(this,t,ut,it,l,{texts:0,language:1,csAPI:4,docuid:2,devModePort:13,devMode:3})}}({target:document.body,props:{devModePort:"5000",language:"en",docuid:"",csAPI:"/api/cs",texts:{hello:"Hello!",navigation:{},article:{}}}})}();
//# sourceMappingURL=bundle.js.map
